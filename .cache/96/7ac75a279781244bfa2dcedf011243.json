{"id":"LrH9","dependencies":[{"name":"/Users/doriancrutcher/Documents/BlockHeads/blockgames/blockwatch/blockwatchv4/package.json","includedInParent":true,"mtime":1611186518316},{"name":"/Users/doriancrutcher/Documents/BlockHeads/blockgames/blockwatch/blockwatchv4/node_modules/overstat/package.json","includedInParent":true,"mtime":1611186771388},{"name":"url-join","loc":{"line":1,"column":24},"parent":"/Users/doriancrutcher/Documents/BlockHeads/blockgames/blockwatch/blockwatchv4/node_modules/overstat/lib/index.js","resolved":"/Users/doriancrutcher/Documents/BlockHeads/blockgames/blockwatch/blockwatchv4/node_modules/url-join/lib/url-join.js"},{"name":"request-promise","loc":{"line":2,"column":24},"parent":"/Users/doriancrutcher/Documents/BlockHeads/blockgames/blockwatch/blockwatchv4/node_modules/overstat/lib/index.js","resolved":"/Users/doriancrutcher/Documents/BlockHeads/blockgames/blockwatch/blockwatchv4/node_modules/request-promise/lib/rp.js"},{"name":"debug","loc":{"line":3,"column":22},"parent":"/Users/doriancrutcher/Documents/BlockHeads/blockgames/blockwatch/blockwatchv4/node_modules/overstat/lib/index.js","resolved":"/Users/doriancrutcher/Documents/BlockHeads/blockgames/blockwatch/blockwatchv4/node_modules/overstat/node_modules/debug/src/browser.js"},{"name":"./scraper","loc":{"line":5,"column":34},"parent":"/Users/doriancrutcher/Documents/BlockHeads/blockgames/blockwatch/blockwatchv4/node_modules/overstat/lib/index.js","resolved":"/Users/doriancrutcher/Documents/BlockHeads/blockgames/blockwatch/blockwatchv4/node_modules/overstat/lib/scraper.js"}],"generated":{"js":"const e=require(\"url-join\"),t=require(\"request-promise\"),r=require(\"debug\"),a=require(\"./scraper\"),n=r(\"oversmash\"),s={normalizeNames:!0,normalizeValues:!0,normalizeNamesAs:\"snake\",percentsToInts:!0,defaultRegion:\"us\",defaultPlatform:\"pc\",accountIdentityRegex:/^\\/career\\/([\\w]+)\\/.+$/,requestOptions:{baseUrl:\"https://playoverwatch.com/en-us\",headers:{\"User-Agent\":\"https://github.com/filp/oversmash (hi jeff)\"}}};function o(t,r,a){const s=a.replace(/-(\\d+)$/,\"%23$1\"),o=e(\"/search/account-by-name\",s);return n(\"findPlayer/http get\",o),t.get(o,{json:!0}).then(e=>{n(\"findPlayer/http complete\",e);const t=e.map(e=>({level:e.level,portrait:e.portrait,displayName:e.name,platform:e.platform}));return{name:a,accounts:t}})}function l(t,r,s,o,l){const i=e(\"/career\",s,o,l);return n(\"findPlayerStats/http get\",i),t.get(i).then(e=>{n(\"findPlayerStats/http complete\");const t=a(r,e);return{name:l,region:o,platform:s,stats:t}})}module.exports=function(e={}){const r={...s,...e};if(-1===[\"snake\",\"camel\"].indexOf(r.normalizeNamesAs))throw new Error(\"normalizeNamesAs must be set to 'snake' or 'camel'\");const a=r.defaultRegion,i=r.defaultPlatform,u=t.defaults(r.requestOptions);return n(\"default region\",a),n(\"default platform\",i),{player:e=>o(u,r,e),playerStats:(e,t=a,n=i)=>l(u,r,n,t,e)}};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/overstat/lib/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":6}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":8}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":16}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":28}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":30}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":38}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":57}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":59}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":67}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":76}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":78}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":86}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":99}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":101}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":103}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":116}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":118}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":10,"column":0},"generated":{"line":1,"column":119}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":10,"column":0},"generated":{"line":1,"column":135}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":11,"column":0},"generated":{"line":1,"column":137}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":11,"column":0},"generated":{"line":1,"column":154}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":156}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":173}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":13,"column":0},"generated":{"line":1,"column":181}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":13,"column":0},"generated":{"line":1,"column":197}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":199}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":213}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":15,"column":0},"generated":{"line":1,"column":218}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":15,"column":0},"generated":{"line":1,"column":234}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":16,"column":0},"generated":{"line":1,"column":239}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":16,"column":0},"generated":{"line":1,"column":260}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":17,"column":0},"generated":{"line":1,"column":286}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":17,"column":0},"generated":{"line":1,"column":301}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":302}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":310}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":344}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":352}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":353}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":366}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":415}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":424}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":426}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":428}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":430}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":433}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":439}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":441}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":443}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":451}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":461}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":470}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":472}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":474}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":500}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":503}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":510}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":512}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":534}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":537}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":539}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":543}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":545}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":546}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":552}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":556}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":561}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":41,"column":0},"generated":{"line":1,"column":565}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":41,"column":0},"generated":{"line":1,"column":567}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":41,"column":0},"generated":{"line":1,"column":594}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":597}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":603}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":605}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":607}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":611}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":44,"column":0},"generated":{"line":1,"column":615}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":45,"column":0},"generated":{"line":1,"column":616}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":45,"column":0},"generated":{"line":1,"column":622}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":45,"column":0},"generated":{"line":1,"column":624}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":46,"column":0},"generated":{"line":1,"column":630}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":46,"column":0},"generated":{"line":1,"column":639}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":46,"column":0},"generated":{"line":1,"column":641}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":650}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":662}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":664}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":48,"column":0},"generated":{"line":1,"column":669}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":48,"column":0},"generated":{"line":1,"column":678}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":48,"column":0},"generated":{"line":1,"column":680}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":52,"column":0},"generated":{"line":1,"column":692}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":52,"column":0},"generated":{"line":1,"column":698}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":53,"column":0},"generated":{"line":1,"column":699}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":53,"column":0},"generated":{"line":1,"column":704}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":54,"column":0},"generated":{"line":1,"column":706}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":54,"column":0},"generated":{"line":1,"column":715}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":720}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":729}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":731}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":733}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":735}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":737}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":739}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":742}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":748}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":750}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":752}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":762}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":764}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":766}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":65,"column":0},"generated":{"line":1,"column":769}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":63,"column":0},"generated":{"line":1,"column":776}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":63,"column":0},"generated":{"line":1,"column":778}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":63,"column":0},"generated":{"line":1,"column":805}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":65,"column":0},"generated":{"line":1,"column":808}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":65,"column":0},"generated":{"line":1,"column":810}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":65,"column":0},"generated":{"line":1,"column":814}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":65,"column":0},"generated":{"line":1,"column":817}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":65,"column":0},"generated":{"line":1,"column":822}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":66,"column":0},"generated":{"line":1,"column":826}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":66,"column":0},"generated":{"line":1,"column":828}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":68,"column":0},"generated":{"line":1,"column":861}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":68,"column":0},"generated":{"line":1,"column":867}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":68,"column":0},"generated":{"line":1,"column":869}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":68,"column":0},"generated":{"line":1,"column":871}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":68,"column":0},"generated":{"line":1,"column":873}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":876}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":882}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":883}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":888}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":890}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":897}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":899}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":908}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":910}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":916}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":75,"column":0},"generated":{"line":1,"column":921}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":75,"column":0},"generated":{"line":1,"column":928}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":75,"column":0},"generated":{"line":1,"column":936}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":75,"column":0},"generated":{"line":1,"column":945}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":75,"column":0},"generated":{"line":1,"column":947}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":76,"column":0},"generated":{"line":1,"column":951}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":76,"column":0},"generated":{"line":1,"column":957}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":76,"column":0},"generated":{"line":1,"column":959}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":76,"column":0},"generated":{"line":1,"column":963}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":76,"column":0},"generated":{"line":1,"column":968}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":79,"column":0},"generated":{"line":1,"column":971}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":79,"column":0},"generated":{"line":1,"column":975}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":79,"column":0},"generated":{"line":1,"column":979}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":79,"column":0},"generated":{"line":1,"column":980}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":79,"column":0},"generated":{"line":1,"column":988}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":79,"column":0},"generated":{"line":1,"column":997}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1005}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1007}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1025}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1031}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1035}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1041}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":84,"column":0},"generated":{"line":1,"column":1095}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":84,"column":0},"generated":{"line":1,"column":1101}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":84,"column":0},"generated":{"line":1,"column":1103}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":84,"column":0},"generated":{"line":1,"column":1105}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":85,"column":0},"generated":{"line":1,"column":1119}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":85,"column":0},"generated":{"line":1,"column":1121}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":85,"column":0},"generated":{"line":1,"column":1123}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1139}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1141}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1143}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1152}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1154}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1170}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":91,"column":0},"generated":{"line":1,"column":1177}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":91,"column":0},"generated":{"line":1,"column":1179}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":91,"column":0},"generated":{"line":1,"column":1196}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1199}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1201}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1220}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1223}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1224}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1231}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":1234}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":1236}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":1238}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":1240}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1243}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1255}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1256}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1258}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1260}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1262}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1264}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":100,"column":0},"generated":{"line":1,"column":1268}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":100,"column":0},"generated":{"line":1,"column":1270}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":100,"column":0},"generated":{"line":1,"column":1272}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":100,"column":0},"generated":{"line":1,"column":1274}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":100,"column":0},"generated":{"line":1,"column":1276}},{"source":"../node_modules/overstat/lib/index.js","original":{"line":100,"column":0},"generated":{"line":1,"column":1278}}],"sources":{"../node_modules/overstat/lib/index.js":"const urlJoin = require('url-join');\nconst request = require('request-promise');\nconst debug = require('debug');\n\nconst scrapePlayerStats = require('./scraper');\n\nconst log = debug('oversmash');\n\nconst defaultOptions = {\n    normalizeNames: true,\n    normalizeValues: true,\n    normalizeNamesAs: 'snake',\n    percentsToInts: true,\n    defaultRegion: 'us',\n    defaultPlatform: 'pc',\n    accountIdentityRegex: /^\\/career\\/([\\w]+)\\/.+$/,\n    requestOptions: {\n        baseUrl: 'https://playoverwatch.com/en-us',\n        headers: {\n            'User-Agent': 'https://github.com/filp/oversmash (hi jeff)'\n        }\n    }\n};\n\n// Uses an internal Blizzard API to retrieve basic details about a player,\n// through their Blizzard account ID. The API returns basic details about\n// the players' career - display names, levels, and portraits, for each\n// platform/region the player participated in.\nfunction findPlayer (req, options, name) {\n    // Turn the last dash into a URL-encoded pound sign, so we can get\n    // a positive match including the account ID\n    const nameEscaped = name.replace(/-(\\d+)$/, '%23$1'); // # == %23\n\n    // Note that the pound sign here is ignored, we keep it in just to make\n    // debug logs clearer, and because it doesn't cause any harm:\n    const searchPath = urlJoin('/search/account-by-name', nameEscaped);\n\n    log('findPlayer/http get', searchPath);\n\n    return req.get(searchPath, { json: true }).then((response) => {\n        log('findPlayer/http complete', response);\n\n        const accounts = response.map(account => {\n            return {\n                level: account.level,\n                portrait: account.portrait,\n                displayName: account.name,\n                platform: account.platform\n            };\n        });\n\n        return {\n            name: name,\n            accounts\n        };\n    });\n}\n\n// Scrapes the playoverwatch website for details on a players' career, for\n// a given region and platform.\nfunction findPlayerStats (req, options, platform, region, name) {\n    const scrapePath = urlJoin('/career', platform, region, name);\n    log('findPlayerStats/http get', scrapePath);\n\n    return req.get(scrapePath).then((html) => {\n        log('findPlayerStats/http complete');\n\n        const stats = scrapePlayerStats(options, html);\n        return { name, region, platform, stats };\n    });\n}\n\n// Accepts an options object (taking precedence over defaultOptions)\n// and returns a new oversmash object\nmodule.exports = function main (callerOptions = {}) {\n    const sharedOptions = { ...defaultOptions, ...callerOptions };\n\n    // Make sure we know how the caller expects names to be normalized\n    if (['snake', 'camel'].indexOf(sharedOptions.normalizeNamesAs) === -1) {\n        throw new Error('normalizeNamesAs must be set to \\'snake\\' or \\'camel\\'');\n    }\n\n    // This will blow-up if the caller overrides callerOptions in weird ways\n    const defaultRegion = sharedOptions.defaultRegion;\n    const defaultPlatform = sharedOptions.defaultPlatform;\n\n    // Prepare an instance of `request` configured with requestOptions\n    // as provided by the caller (or from defaultOptions)\n    const req = request.defaults(sharedOptions.requestOptions);\n\n    log('default region', defaultRegion);\n    log('default platform', defaultPlatform);\n\n    return {\n        player (name) {\n            return findPlayer(req, sharedOptions, name);\n        },\n\n        playerStats (name, region = defaultRegion, platform = defaultPlatform) {\n            return findPlayerStats(req, sharedOptions, platform, region, name);\n        }\n    };\n};\n"},"lineCount":null}},"error":null,"hash":"dff2a6cb1d4b6174c52ef1acc015d101","cacheData":{"env":{}}}